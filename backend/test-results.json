{"numTotalTestSuites":9,"numPassedTestSuites":3,"numFailedTestSuites":6,"numPendingTestSuites":0,"numTotalTests":18,"numPassedTests":11,"numFailedTests":7,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1751453918027,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Media Upload Route","Successful File Upload"],"fullName":"Media Upload Route Successful File Upload should upload valid image file successfully","status":"failed","title":"should upload valid image file successfully","duration":45.60480000000007,"failureMessages":["AssertionError: expected { success: true, data: { …(8) } } to deeply equal { success: true, data: { …(8) } }\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\mediaUpload.test.ts:108:29\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Media Upload Route","Successful File Upload"],"fullName":"Media Upload Route Successful File Upload should upload file without alt text","status":"passed","title":"should upload file without alt text","duration":7.546499999999924,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","Successful File Upload"],"fullName":"Media Upload Route Successful File Upload should handle all supported file types","status":"failed","title":"should handle all supported file types","duration":9.602200000000039,"failureMessages":["AssertionError: expected undefined to be 'image/jpeg' // Object.is equality\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\mediaUpload.test.ts:155:45\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Media Upload Route","File Validation"],"fullName":"Media Upload Route File Validation should reject unsupported file types","status":"failed","title":"should reject unsupported file types","duration":11.293999999999983,"failureMessages":["AssertionError: expected { success: false, error: { …(3) } } to deeply equal { success: false, error: { …(2) } }\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\mediaUpload.test.ts:172:29\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Media Upload Route","File Validation"],"fullName":"Media Upload Route File Validation should reject files exceeding size limit","status":"passed","title":"should reject files exceeding size limit","duration":66.75520000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","File Validation"],"fullName":"Media Upload Route File Validation should reject requests with no file","status":"passed","title":"should reject requests with no file","duration":5.186500000000024,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","File Validation"],"fullName":"Media Upload Route File Validation should validate alt text length","status":"passed","title":"should validate alt text length","duration":7.48720000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","Multer Error Handling"],"fullName":"Media Upload Route Multer Error Handling should handle unexpected file field name","status":"passed","title":"should handle unexpected file field name","duration":5.194700000000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","Multer Error Handling"],"fullName":"Media Upload Route Multer Error Handling should handle multiple file uploads","status":"passed","title":"should handle multiple file uploads","duration":9.327199999999948,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","Directory Management"],"fullName":"Media Upload Route Directory Management should create uploads directory if it does not exist","status":"failed","title":"should create uploads directory if it does not exist","duration":8.915100000000052,"failureMessages":["AssertionError: expected \"mkdir\" to be called with arguments: [ StringContaining \"uploads\", …(1) ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/chai/chai.js:1618:25)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\mediaUpload.test.ts:281:28\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Media Upload Route","Directory Management"],"fullName":"Media Upload Route Directory Management should handle directory creation failure","status":"failed","title":"should handle directory creation failure","duration":6.259800000000041,"failureMessages":["Error: expected 500 \"Internal Server Error\", got 201 \"Created\"\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\mediaUpload.test.ts:297:10\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:267:14)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:323:13\n    at Test._assertFunction (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:300:13)\n    at Test.assert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:179:23)\n    at Server.localAssert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:135:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"meta":{}},{"ancestorTitles":["Media Upload Route","Error Recovery"],"fullName":"Media Upload Route Error Recovery should clean up uploaded file if processing fails","status":"passed","title":"should clean up uploaded file if processing fails","duration":4.061899999999923,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","URL Generation"],"fullName":"Media Upload Route URL Generation should generate correct URLs with custom base URL","status":"passed","title":"should generate correct URLs with custom base URL","duration":7.428399999999897,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","URL Generation"],"fullName":"Media Upload Route URL Generation should use default URL when BASE_URL not set","status":"passed","title":"should use default URL when BASE_URL not set","duration":7.737700000000018,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","Edge Cases"],"fullName":"Media Upload Route Edge Cases should handle empty alt text","status":"passed","title":"should handle empty alt text","duration":7.1223999999999705,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","Edge Cases"],"fullName":"Media Upload Route Edge Cases should handle files with no extension","status":"failed","title":"should handle files with no extension","duration":5.467100000000073,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\mediaUpload.test.ts:400:10\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:267:14)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:323:13\n    at Test._assertFunction (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:300:13)\n    at Test.assert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:179:23)\n    at Server.localAssert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:135:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"meta":{}},{"ancestorTitles":["Media Upload Route","Edge Cases"],"fullName":"Media Upload Route Edge Cases should handle very small files","status":"passed","title":"should handle very small files","duration":6.816299999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media Upload Route","Edge Cases"],"fullName":"Media Upload Route Edge Cases should handle files at exactly the size limit","status":"failed","title":"should handle files at exactly the size limit","duration":55.33289999999988,"failureMessages":["Error: expected 201 \"Created\", got 400 \"Bad Request\"\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\mediaUpload.test.ts:427:10\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:267:14)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:323:13\n    at Test._assertFunction (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:300:13)\n    at Test.assert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:179:23)\n    at Server.localAssert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:135:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"meta":{}}],"startTime":1751453918875,"endTime":1751453919153.333,"status":"failed","message":"","name":"C:/Users/Et Al/Documents/GitHub/ParaSocial/backend/src/routes/__tests__/mediaUpload.test.ts"}]}
