ðŸ§ª Test environment initialized
{"numTotalTestSuites":15,"numPassedTestSuites":5,"numFailedTestSuites":10,"numPendingTestSuites":0,"numTotalTests":31,"numPassedTests":14,"numFailedTests":17,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1751523741120,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Valid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Valid Media Uploads should pass validation with valid image file","status":"passed","title":"should pass validation with valid image file","duration":5.092599999999948,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Valid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Valid Media Uploads should pass validation with all supported image types","status":"passed","title":"should pass validation with all supported image types","duration":0.9541000000000395,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Valid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Valid Media Uploads should pass validation with supported video types","status":"passed","title":"should pass validation with supported video types","duration":0.4567000000000121,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Valid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Valid Media Uploads should pass validation without alt text","status":"passed","title":"should pass validation without alt text","duration":0.38330000000001974,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Valid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Valid Media Uploads should pass validation with empty alt text","status":"passed","title":"should pass validation with empty alt text","duration":0.4877999999999929,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Invalid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Invalid Media Uploads should reject upload without file","status":"failed","title":"should reject upload without file","duration":6.8840999999999894,"failureMessages":["AssertionError: expected \"spy\" to not be called at all, but actually been called 1 times\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m    Array []\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1335:10)\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/chai/chai.js:1618:25)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:188:30\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Invalid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Invalid Media Uploads should reject unsupported file types","status":"failed","title":"should reject unsupported file types","duration":1.2515000000000214,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ 400 ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/chai/chai.js:1618:25)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:221:29\n    at Array.forEach (<anonymous>)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:202:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Invalid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Invalid Media Uploads should reject files that are too large","status":"failed","title":"should reject files that are too large","duration":0.6510000000000105,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ 400 ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/chai/chai.js:1618:25)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:256:27\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Invalid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Invalid Media Uploads should reject empty files","status":"failed","title":"should reject empty files","duration":0.771699999999953,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ 400 ]\u001b[90m\n\nNumber of calls: \u001b[1m0\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/chai/chai.js:1618:25)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:289:27\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateMediaUpload","Invalid Media Uploads"],"fullName":"Media & Moderation Validation Middleware validateMediaUpload Invalid Media Uploads should reject alt text that is too long","status":"passed","title":"should reject alt text that is too long","duration":3.0394000000000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Valid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Valid Report Creation should pass validation for user report","status":"failed","title":"should pass validation for user report","duration":0.7927999999999997,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:354:9\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Valid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Valid Report Creation should pass validation for post report","status":"failed","title":"should pass validation for post report","duration":0.4543000000000461,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:370:9\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Valid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Valid Report Creation should pass validation for all report types","status":"failed","title":"should pass validation for all report types","duration":0.6195000000000164,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:397:11\n    at Array.forEach (<anonymous>)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:386:21\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Valid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Valid Report Creation should pass validation with maximum length description","status":"failed","title":"should pass validation with maximum length description","duration":0.5108999999999924,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:413:9\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Invalid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Invalid Report Creation should reject invalid report type","status":"failed","title":"should reject invalid report type","duration":0.5511000000000195,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:430:9\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Invalid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Invalid Report Creation should reject description that is too short","status":"failed","title":"should reject description that is too short","duration":0.42210000000000036,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:458:9\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Invalid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Invalid Report Creation should reject description that is too long","status":"failed","title":"should reject description that is too long","duration":0.4168000000000234,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:486:9\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Invalid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Invalid Report Creation should reject report with both user and post IDs","status":"failed","title":"should reject report with both user and post IDs","duration":0.47230000000001837,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:515:9\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateCreateReport","Invalid Report Creation"],"fullName":"Media & Moderation Validation Middleware validateCreateReport Invalid Report Creation should reject report with neither user nor post ID","status":"failed","title":"should reject report with neither user nor post ID","duration":0.41269999999997253,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:542:9\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateBlockUser","Valid User Blocking"],"fullName":"Media & Moderation Validation Middleware validateBlockUser Valid User Blocking should pass validation with reason","status":"passed","title":"should pass validation with reason","duration":0.6290000000000191,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateBlockUser","Valid User Blocking"],"fullName":"Media & Moderation Validation Middleware validateBlockUser Valid User Blocking should pass validation without reason","status":"passed","title":"should pass validation without reason","duration":0.3202999999999747,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateBlockUser","Valid User Blocking"],"fullName":"Media & Moderation Validation Middleware validateBlockUser Valid User Blocking should pass validation with empty reason","status":"passed","title":"should pass validation with empty reason","duration":0.3261999999999716,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateBlockUser","Invalid User Blocking"],"fullName":"Media & Moderation Validation Middleware validateBlockUser Invalid User Blocking should reject reason that is too long","status":"passed","title":"should reject reason that is too long","duration":1.94440000000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateUsernameParam","Valid Usernames"],"fullName":"Media & Moderation Validation Middleware validateUsernameParam Valid Usernames should pass validation with valid username","status":"passed","title":"should pass validation with valid username","duration":0.4298000000000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateUsernameParam","Valid Usernames"],"fullName":"Media & Moderation Validation Middleware validateUsernameParam Valid Usernames should pass validation with minimum length username","status":"passed","title":"should pass validation with minimum length username","duration":0.24029999999999063,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateUsernameParam","Valid Usernames"],"fullName":"Media & Moderation Validation Middleware validateUsernameParam Valid Usernames should pass validation with maximum length username","status":"passed","title":"should pass validation with maximum length username","duration":0.20019999999999527,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateUsernameParam","Valid Usernames"],"fullName":"Media & Moderation Validation Middleware validateUsernameParam Valid Usernames should pass validation with underscores","status":"passed","title":"should pass validation with underscores","duration":0.19180000000000064,"failureMessages":[],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateUsernameParam","Invalid Usernames"],"fullName":"Media & Moderation Validation Middleware validateUsernameParam Invalid Usernames should reject username that is too short","status":"failed","title":"should reject username that is too short","duration":3.587699999999984,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ ObjectContaining{â€¦} ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  [\u001b[22m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[32m-     \"error\": ObjectContaining {\u001b[90m\n\u001b[32m-       \"details\": ArrayContaining [\u001b[90m\n\u001b[32m-         ObjectContaining {\u001b[90m\n\u001b[32m-           \"field\": \"username\",\u001b[90m\n\u001b[31m+   {\u001b[90m\n\u001b[31m+     \"error\": {\u001b[90m\n\u001b[31m+       \"code\": \"INVALID_USERNAME\",\u001b[90m\n\u001b[2m        \"message\": \"Username must be at least 3 characters\",\u001b[22m\n\u001b[32m-         },\u001b[90m\n\u001b[32m-       ],\u001b[90m\n\u001b[2m      },\u001b[22m\n\u001b[2m      \"success\": false,\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/chai/chai.js:1618:25)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:700:25\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateUsernameParam","Invalid Usernames"],"fullName":"Media & Moderation Validation Middleware validateUsernameParam Invalid Usernames should reject username that is too long","status":"failed","title":"should reject username that is too long","duration":1.5842999999999847,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ ObjectContaining{â€¦} ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  [\u001b[22m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[32m-     \"error\": ObjectContaining {\u001b[90m\n\u001b[32m-       \"details\": ArrayContaining [\u001b[90m\n\u001b[32m-         ObjectContaining {\u001b[90m\n\u001b[32m-           \"field\": \"username\",\u001b[90m\n\u001b[31m+   {\u001b[90m\n\u001b[31m+     \"error\": {\u001b[90m\n\u001b[31m+       \"code\": \"INVALID_USERNAME\",\u001b[90m\n\u001b[2m        \"message\": \"Username must be less than 30 characters\",\u001b[22m\n\u001b[32m-         },\u001b[90m\n\u001b[32m-       ],\u001b[90m\n\u001b[2m      },\u001b[22m\n\u001b[2m      \"success\": false,\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/chai/chai.js:1618:25)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:726:25\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","validateUsernameParam","Invalid Usernames"],"fullName":"Media & Moderation Validation Middleware validateUsernameParam Invalid Usernames should reject username with invalid characters","status":"failed","title":"should reject username with invalid characters","duration":1.8799000000000206,"failureMessages":["AssertionError: expected \"spy\" to be called with arguments: [ ObjectContaining{â€¦} ]\u001b[90m\n\nReceived: \n\n\u001b[1m  1st spy call:\n\n\u001b[22m\u001b[2m  [\u001b[22m\n\u001b[32m-   ObjectContaining {\u001b[90m\n\u001b[32m-     \"error\": ObjectContaining {\u001b[90m\n\u001b[32m-       \"details\": ArrayContaining [\u001b[90m\n\u001b[32m-         ObjectContaining {\u001b[90m\n\u001b[32m-           \"field\": \"username\",\u001b[90m\n\u001b[31m+   {\u001b[90m\n\u001b[31m+     \"error\": {\u001b[90m\n\u001b[31m+       \"code\": \"INVALID_USERNAME\",\u001b[90m\n\u001b[2m        \"message\": \"Username can only contain letters, numbers, and underscores\",\u001b[22m\n\u001b[32m-         },\u001b[90m\n\u001b[32m-       ],\u001b[90m\n\u001b[2m      },\u001b[22m\n\u001b[2m      \"success\": false,\u001b[22m\n\u001b[2m    },\u001b[22m\n\u001b[2m  ]\u001b[22m\n\u001b[39m\u001b[90m\n\nNumber of calls: \u001b[1m1\u001b[22m\n\u001b[39m\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1355:10)\n    at Proxy.<anonymous> (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/expect/dist/index.js:1029:14)\n    at Proxy.methodWrapper (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/chai/chai.js:1618:25)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:762:27\n    at Array.forEach (<anonymous>)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:751:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)"],"meta":{}},{"ancestorTitles":["Media & Moderation Validation Middleware","Error Handling"],"fullName":"Media & Moderation Validation Middleware Error Handling should handle internal server errors gracefully","status":"failed","title":"should handle internal server errors gracefully","duration":0.5325000000000273,"failureMessages":["TypeError: (0 , validateCreateReport) is not a function\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\__tests__\\middleware\\mediaModerationValidationMiddleware.test.ts:796:7\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"meta":{}}],"startTime":1751523741952,"endTime":1751523741989.5325,"status":"failed","message":"","name":"C:/Users/Et Al/Documents/GitHub/ParaSocial/backend/__tests__/middleware/mediaModerationValidationMiddleware.test.ts"}]}
ðŸ§¹ Test cleanup completed
