ðŸ§ª Test environment initialized
{"numTotalTestSuites":6,"numPassedTestSuites":2,"numFailedTestSuites":4,"numPendingTestSuites":0,"numTotalTests":14,"numPassedTests":9,"numFailedTests":5,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1751535473252,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Static File Serving Security","Path Traversal Protection"],"fullName":"Static File Serving Security Path Traversal Protection should block requests with double dots (..)","status":"failed","title":"should block requests with double dots (..)","duration":29.58949999999993,"failureMessages":["Error: expected 400 \"Bad Request\", got 404 \"Not Found\"\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\staticFileServingSecurity.test.ts:127:10\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:267:14)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:323:13\n    at Test._assertFunction (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:300:13)\n    at Test.assert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:179:23)\n    at Server.localAssert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:135:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"meta":{}},{"ancestorTitles":["Static File Serving Security","Path Traversal Protection"],"fullName":"Static File Serving Security Path Traversal Protection should block requests with tilde (~)","status":"passed","title":"should block requests with tilde (~)","duration":8.922699999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Static File Serving Security","Path Traversal Protection"],"fullName":"Static File Serving Security Path Traversal Protection should block complex path traversal attempts","status":"failed","title":"should block complex path traversal attempts","duration":4.403099999999995,"failureMessages":["Error: expected 400 \"Bad Request\", got 404 \"Not Found\"\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\staticFileServingSecurity.test.ts:169:12\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:267:14)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:323:13\n    at Test._assertFunction (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:300:13)\n    at Test.assert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:179:23)\n    at Server.localAssert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:135:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"meta":{}},{"ancestorTitles":["Static File Serving Security","Path Traversal Protection"],"fullName":"Static File Serving Security Path Traversal Protection should allow legitimate file access","status":"failed","title":"should allow legitimate file access","duration":14.004999999999995,"failureMessages":["AssertionError: expected undefined to be 'fake image content' // Object.is equality\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\staticFileServingSecurity.test.ts:185:29\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}},{"ancestorTitles":["Static File Serving Security","Path Traversal Protection"],"fullName":"Static File Serving Security Path Traversal Protection should allow files with dots in names but not path traversal","status":"passed","title":"should allow files with dots in names but not path traversal","duration":10.279800000000023,"failureMessages":[],"meta":{}},{"ancestorTitles":["Static File Serving Security","Security Headers"],"fullName":"Static File Serving Security Security Headers should set X-Content-Type-Options header","status":"passed","title":"should set X-Content-Type-Options header","duration":9.384799999999927,"failureMessages":[],"meta":{}},{"ancestorTitles":["Static File Serving Security","Security Headers"],"fullName":"Static File Serving Security Security Headers should set X-Frame-Options header","status":"passed","title":"should set X-Frame-Options header","duration":7.149699999999939,"failureMessages":[],"meta":{}},{"ancestorTitles":["Static File Serving Security","Security Headers"],"fullName":"Static File Serving Security Security Headers should set inline Content-Disposition for image files","status":"passed","title":"should set inline Content-Disposition for image files","duration":36.162000000000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["Static File Serving Security","Security Headers"],"fullName":"Static File Serving Security Security Headers should set inline Content-Disposition for video files","status":"passed","title":"should set inline Content-Disposition for video files","duration":18.178300000000036,"failureMessages":[],"meta":{}},{"ancestorTitles":["Static File Serving Security","Security Headers"],"fullName":"Static File Serving Security Security Headers should set attachment Content-Disposition for other file types","status":"passed","title":"should set attachment Content-Disposition for other file types","duration":26.319500000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Static File Serving Security","Dotfiles Protection"],"fullName":"Static File Serving Security Dotfiles Protection should deny access to dotfiles","status":"failed","title":"should deny access to dotfiles","duration":7.556899999999928,"failureMessages":["Error: expected 403 \"Forbidden\", got 404 \"Not Found\"\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\staticFileServingSecurity.test.ts:288:10\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:267:14)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:323:13\n    at Test._assertFunction (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:300:13)\n    at Test.assert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:179:23)\n    at Server.localAssert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:135:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"meta":{}},{"ancestorTitles":["Static File Serving Security","Dotfiles Protection"],"fullName":"Static File Serving Security Dotfiles Protection should deny access to files starting with dot","status":"failed","title":"should deny access to files starting with dot","duration":5.666899999999941,"failureMessages":["Error: expected 403 \"Forbidden\", got 404 \"Not Found\"\n    at C:\\Users\\Et Al\\Documents\\GitHub\\ParaSocial\\backend\\src\\routes\\__tests__\\staticFileServingSecurity.test.ts:301:12\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///C:/Users/Et%20Al/Documents/GitHub/parasocial/backend/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n----\n    at Test._assertStatus (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:267:14)\n    at C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:323:13\n    at Test._assertFunction (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:300:13)\n    at Test.assert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:179:23)\n    at Server.localAssert (C:\\Users\\Et Al\\Documents\\GitHub\\parasocial\\backend\\node_modules\\supertest\\lib\\test.js:135:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2416:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"meta":{}},{"ancestorTitles":["Static File Serving Security","File Not Found Handling"],"fullName":"Static File Serving Security File Not Found Handling should return 404 for non-existent files","status":"passed","title":"should return 404 for non-existent files","duration":4.947999999999979,"failureMessages":[],"meta":{}},{"ancestorTitles":["Static File Serving Security","File Not Found Handling"],"fullName":"Static File Serving Security File Not Found Handling should return 404 for empty filename","status":"passed","title":"should return 404 for empty filename","duration":3.657899999999927,"failureMessages":[],"meta":{}}],"startTime":1751535474351,"endTime":1751535474538.658,"status":"failed","message":"","name":"C:/Users/Et Al/Documents/GitHub/ParaSocial/backend/src/routes/__tests__/staticFileServingSecurity.test.ts"}]}
ðŸ§¹ Test cleanup completed
